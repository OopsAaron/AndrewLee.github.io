<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/robot-4291692_1280.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/robot-4291692_1280.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-barber-shop.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>


  <meta name="description" content="è®°å½•å€¼å¾—åˆ†äº«çš„è®ºæ–‡ï¼Œ ã€Šreformer-the eficient transformerã€‹ã€ ã€ŠTransformer-XL-Attentive Language Models Beyond a Fixed-Length Contextã€‹">
<meta property="og:type" content="article">
<meta property="og:title" content="2020-08-31-è®ºæ–‡åˆ†äº«ï¼ˆç¬¬1æœŸï¼‰">
<meta property="og:url" content="http://yoursite.com/2020/08/31/2020-08-31-%E8%AE%BA%E6%96%87%E5%88%86%E4%BA%AB(%E7%AC%AC1%E6%9C%9F)/index.html">
<meta property="og:site_name" content="æ€å»ºçš„NLPä¹‹æ—…">
<meta property="og:description" content="è®°å½•å€¼å¾—åˆ†äº«çš„è®ºæ–‡ï¼Œ ã€Šreformer-the eficient transformerã€‹ã€ ã€ŠTransformer-XL-Attentive Language Models Beyond a Fixed-Length Contextã€‹">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/09/03/9mdzrXcGKZ5FPi3.png">
<meta property="og:image" content="https://i.loli.net/2020/09/03/6QvMn1qxGXzwKmC.png">
<meta property="og:image" content="https://i.loli.net/2020/09/03/zQI9n2ubZYDV7SL.png">
<meta property="og:image" content="https://i.loli.net/2020/09/03/KgnJ7iB2kImcshX.png">
<meta property="og:image" content="https://i.loli.net/2020/09/03/WX3lcQrmB16pI2Y.png">
<meta property="og:image" content="https://i.loli.net/2020/09/03/FgHKa4QNrsjlzMh.png">
<meta property="og:image" content="https://i.loli.net/2020/09/03/LwSPM5qFuBfQhaZ.png">
<meta property="og:image" content="https://i.loli.net/2020/09/03/t4zNAXOf6iEZ7cH.jpg">
<meta property="og:image" content="https://i.loli.net/2020/09/03/aGRcA42EiNSBz8v.jpg">
<meta property="og:image" content="https://i.loli.net/2020/09/04/YU3mC2hIOA9ncrj.gif">
<meta property="og:image" content="https://i.loli.net/2020/09/04/IjUWo7DahsNPAkv.gif">
<meta property="og:image" content="https://i.loli.net/2020/09/04/epOcXjYTy835dJv.gif">
<meta property="og:image" content="https://i.loli.net/2020/09/04/qdYL5RsQEOFS8nG.gif">
<meta property="og:image" content="https://i.loli.net/2020/09/04/ZV1lpewdtanoWi9.png">
<meta property="article:published_time" content="2020-08-31T12:43:16.000Z">
<meta property="article:modified_time" content="2020-11-04T13:57:22.615Z">
<meta property="article:author" content="ææ€å»º">
<meta property="article:tag" content="è®ºæ–‡">
<meta property="article:tag" content="è®ºæ–‡åˆ†äº«">
<meta property="article:tag" content="transformer">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/09/03/9mdzrXcGKZ5FPi3.png">

<link rel="canonical" href="http://yoursite.com/2020/08/31/2020-08-31-%E8%AE%BA%E6%96%87%E5%88%86%E4%BA%AB(%E7%AC%AC1%E6%9C%9F)/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>2020-08-31-è®ºæ–‡åˆ†äº«ï¼ˆç¬¬1æœŸï¼‰ | æ€å»ºçš„NLPä¹‹æ—…</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>



<link rel="alternate" href="/atom.xml" title="æ€å»ºçš„NLPä¹‹æ—…" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>




    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">æ€å»ºçš„NLPä¹‹æ—…</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">æ²‰æ·€è‡ªå·±</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾<span class="badge">24</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»<span class="badge">21</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">70</span></a>

  </li>
        <li class="menu-item menu-item-tools">

    <a href="/tools/" rel="section"><i class="fas fa-location-arrow fa-fw"></i>åˆ©å™¨</a>

  </li>
        <li class="menu-item menu-item-onesentence">

    <a href="/onesentence" rel="section"><i class="fas fa-bowling-ball fa-fw"></i>ä¸€å¥è¯</a>

  </li>
        <li class="menu-item menu-item-links">

    <a href="/links" rel="section"><i class="fas fa-link fa-fw"></i>å¤§ä½¬</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/OopsAaron" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/31/2020-08-31-%E8%AE%BA%E6%96%87%E5%88%86%E4%BA%AB(%E7%AC%AC1%E6%9C%9F)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/touxiang.jpg">
      <meta itemprop="name" content="ææ€å»º">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ€å»ºçš„NLPä¹‹æ—…">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          2020-08-31-è®ºæ–‡åˆ†äº«ï¼ˆç¬¬1æœŸï¼‰
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-08-31 20:43:16" itemprop="dateCreated datePublished" datetime="2020-08-31T20:43:16+08:00">2020-08-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-11-04 21:57:22" itemprop="dateModified" datetime="2020-11-04T21:57:22+08:00">2020-11-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%BA%E6%96%87%E5%88%86%E4%BA%AB/" itemprop="url" rel="index"><span itemprop="name">è®ºæ–‡åˆ†äº«</span></a>
                </span>
            </span>

          
            <span id="/2020/08/31/2020-08-31-%E8%AE%BA%E6%96%87%E5%88%86%E4%BA%AB(%E7%AC%AC1%E6%9C%9F)/" class="post-meta-item leancloud_visitors" data-flag-title="2020-08-31-è®ºæ–‡åˆ†äº«ï¼ˆç¬¬1æœŸï¼‰" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2020/08/31/2020-08-31-%E8%AE%BA%E6%96%87%E5%88%86%E4%BA%AB(%E7%AC%AC1%E6%9C%9F)/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/08/31/2020-08-31-%E8%AE%BA%E6%96%87%E5%88%86%E4%BA%AB(%E7%AC%AC1%E6%9C%9F)/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>4.7k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>4 åˆ†é’Ÿ</span>
            </span>
            <div class="post-description">è®°å½•å€¼å¾—åˆ†äº«çš„è®ºæ–‡ï¼Œ
ã€Šreformer-the eficient transformerã€‹ã€
ã€ŠTransformer-XL-Attentive Language Models Beyond a Fixed-Length Contextã€‹
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="reformerthe-eficient-transformer">reformerï¼šthe eficient transformer</h3>
<h4 id="è®ºæ–‡æ¦‚å†µ">è®ºæ–‡æ¦‚å†µ</h4>
<ul>
<li>æ¥æºï¼šICLR 2020</li>
<li>arXiv: 1901.02860</li>
<li>ä½œè€…ï¼šNikita Kitaev ï¼ŒAnselm Levskaya</li>
<li>è®ºæ–‡åœ°å€ï¼š<a href="https://openreview.net/forum?id=rkgNKkHtvB" target="_blank" rel="noopener" class="uri">https://openreview.net/forum?id=rkgNKkHtvB</a></li>
<li>Code urlï¼š<a href="https://github.com/google/trax/tree/master/trax/models/reformer" target="_blank" rel="noopener" class="uri">https://github.com/google/trax/tree/master/trax/models/reformer</a></li>
<li>è®ºæ–‡ç»„ä¼šæŠ¥å‘Šäº<code>2020.08.30</code></li>
</ul>
<h4 id="èƒŒæ™¯">èƒŒæ™¯</h4>
<p>Transformeræ¶æ„è¢«å¹¿æ³›ç”¨äºè‡ªç„¶è¯­è¨€å¤„ç†ä¸­ï¼Œå¹¶åœ¨è®¸å¤šä»»åŠ¡ä¸Šäº§ç”Ÿäº†æœ€æ–°çš„ç»“æœ</p>
<h5 id="é—®é¢˜">é—®é¢˜</h5>
<ol type="1">
<li>å¤§å‹çš„ Transformer å¯ä»¥åœ¨è®¸å¤šä»»åŠ¡ä¸Šå®ç° sotaï¼Œä½†æ˜¯é¢ä¸´ç€å‚æ•°è¿‡å¤šçš„é—®é¢˜ï¼Œå¯¼è‡´æ‰€å å†…å­˜è¿‡å¤§ï¼Œé€ æˆèµ„æºç´§å¼ .</li>
</ol>
<p>åœ¨æœ€å¤§çš„é…ç½®ä¸­ï¼Œå‚æ•°æ•°é‡å·²ç»è¶…è¿‡äº† 5äº¿/å±‚ï¼Œå±‚æ•°å¤šè¾¾ 64ã€‚</p>
<ol start="2" type="1">
<li><p>å…·æœ‰ <em>N</em> å±‚çš„æ¨¡å‹è¦æ¶ˆè€— <em>N</em> å€äºå•å±‚æ¨¡å‹çš„å†…å­˜ï¼Œå› ä¸ºæ¯ä¸€å±‚ä¸­çš„æ¿€æ´»éƒ½éœ€è¦å­˜å‚¨ä»¥è¿›è¡Œåå‘ä¼ æ’­ã€‚</p></li>
<li><p>ç”±äºç‚¹ä¹˜æ³¨æ„åŠ›æœ¬èº«çš„å±€é™æ€§ï¼Œå¯¼è‡´ä¸èƒ½å¤„ç†é•¿åºåˆ—æ•°æ®ï¼Œå¦åˆ™ä¼šå¯¼è‡´æ•ˆç‡ä¸é«˜</p></li>
</ol>
<p>ä¹Ÿå°±æ˜¯è¯´transformerçš„ä¸Šä¸‹æ–‡çª—å£æœ‰é™åˆ¶èŒƒå›´ã€‚æœ€å¤šä¹Ÿå°±å‡ åƒä¸ªå•è¯ã€‚</p>
<blockquote>
<p>Transformer çš„å¼ºå¤§æ¥æºäºæ³¨æ„åŠ›æœºåˆ¶ ï¼Œé€šè¿‡è¿™ä¸€æœºåˆ¶ï¼ŒTransformer å°†ä¸Šä¸‹æ–‡çª—å£å†…æ‰€æœ‰å¯èƒ½çš„å•è¯å¯¹çº³å…¥è€ƒè™‘ï¼Œä»¥ç†è§£å®ƒä»¬ä¹‹é—´çš„è”ç³»ã€‚å› æ­¤ï¼Œå¦‚æœæ–‡æœ¬åŒ…å« 10 ä¸‡ä¸ªå•è¯ï¼ŒTransformer å°†éœ€è¦è¯„ä¼° 100 äº¿å•è¯å¯¹ï¼ˆ10 ä¸‡ x 10 ä¸‡ï¼‰ï¼Œè¿™æ˜¾ç„¶ä¸åˆ‡å®é™…ã€‚</p>
<p>å¦ä¸€ä¸ªé—®é¢˜æ˜¯å¦‚ä½•ä¿å­˜æ¯ä¸ªæ¨¡å‹å±‚çš„è¾“å‡º ã€‚å¯¹äºä½¿ç”¨å¤§å‹ä¸Šä¸‹æ–‡çª—å£çš„åº”ç”¨æ¥è¯´ï¼Œå­˜å‚¨å¤šä¸ªæ¨¡å‹å±‚è¾“å‡ºçš„å†…å­˜éœ€æ±‚ä¼šè¿…é€Ÿå˜å¾—è¿‡å¤§ã€‚è¿™æ„å‘³ç€ï¼Œå®é™…ä½¿ç”¨å¤§é‡å±‚çš„ Transformer æ¨¡å‹åªèƒ½ç”¨äºç”Ÿæˆå‡ å°æ®µè½çš„æ–‡æœ¬æˆ–ä¸€å°æ®µçš„éŸ³ä¹ã€‚</p>
</blockquote>
<h5 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h5>
<ol type="1">
<li><p>ä½¿ç”¨å¯é€†æ®‹å·®ï¼ˆreversible residual layersï¼‰ä»£æ›¿æ ‡å‡†æ®‹å·®ï¼ˆstandard residualsï¼‰ï¼Œè¿™ä½¿å¾—å­˜å‚¨åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä»…æ¿€æ´»ä¸€æ¬¡ï¼Œè€Œä¸æ˜¯ n æ¬¡ï¼ˆæ­¤å¤„ n æŒ‡å±‚æ•°ï¼‰ï¼Œæ›´æœ‰æ•ˆåœ°ä½¿ç”¨å¯ç”¨å†…å­˜</p></li>
<li><p>å°†ç‚¹ä¹˜æ³¨æ„åŠ›ï¼ˆdot-product attentionï¼‰æ›¿æ¢ä¸ºä¸€ä¸ªä½¿ç”¨å±€éƒ¨æ•æ„Ÿå“ˆå¸Œï¼ˆlocality-sensitive hashingï¼‰çš„ç‚¹ä¹˜æ³¨æ„åŠ›ï¼Œå°†å¤æ‚åº¦ä» O(L2 ) å˜ä¸º O(L log L)ï¼Œæ­¤å¤„ L æŒ‡åºåˆ—çš„é•¿åº¦ï¼Œæ¥é™ä½é•¿åºåˆ—çš„å¤„ç†å¤æ‚åº¦</p></li>
</ol>
<p><strong>Reformerä¸ä½¿ç”¨å®Œå…¨Transformeræ‰€è·å¾—çš„ç»“æœç›¸åŒ¹é…ï¼Œä½†è¿è¡Œé€Ÿåº¦è¦å¿«å¾—å¤šï¼Œå°¤å…¶æ˜¯åœ¨æ–‡æœ¬ä»»åŠ¡ä¸Šï¼Œå¹¶ä¸”å†…å­˜æ•ˆç‡è¦é«˜å‡ ä¸ªæ•°é‡çº§ã€‚</strong></p>
<h4 id="æ³¨æ„åŠ›é—®é¢˜">æ³¨æ„åŠ›é—®é¢˜</h4>
<h5 id="åŸå§‹æ³¨æ„åŠ›">åŸå§‹æ³¨æ„åŠ›</h5>
<p>å…¬å¼å¦‚ä¸‹ï¼š<span class="math inline">\(Attention (Q, K, V)=\operatorname{softmax}\left(\frac{Q K^{T}}{\sqrt{d_{k}}}\right) V\)</span></p>
<p>self-attentionæ“ä½œçš„æ ¸å¿ƒ â€”â€”<span class="math inline">\(QK^T\)</span> è¡¨ç¤ºkeyå’Œqueryä¹‹é—´çš„ç›¸ä¼¼åº¦å¾—åˆ†</p>
<p>è®¡ç®—å¸¦æœ‰æ‰€æœ‰kçš„qçš„ç‚¹ç§¯ï¼Œå¹¶ç”¨âˆšdkè¿›è¡Œç¼©æ”¾ï¼Œç„¶ååº”ç”¨softmaxå‡½æ•°æ¥è·å¾—vçš„æƒé‡ã€‚ç”¨æ¥æ¶ˆé™¤hidden sizeè¿™ä¸ªå‚æ•°å¯¹æ³¨æ„åŠ›åˆ†å¸ƒçš„å½±å“ã€‚å¯¹äºæ¯ä¸ªqueryï¼Œæˆ‘ä»¬åœ¨æ‰€æœ‰keysä¸Šè®¡ç®—ä¸€ä¸ªsoftmaxï¼Œä»¥ç¡®ä¿çŸ©é˜µçš„æ¯ä¸€è¡Œå’Œä¸º1â€”â€” ç¡®ä¿æ–°çš„éšè—çŠ¶æ€çš„å¤§å°ä¸ä¾èµ–äºåºåˆ—é•¿åº¦ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬ç”¨æˆ‘ä»¬çš„æ³¨æ„åŠ›çŸ©é˜µä¹˜ä»¥æˆ‘ä»¬çš„valuesçŸ©é˜µï¼Œä¸ºæ¯ä¸ªtokenç”Ÿæˆä¸€ä¸ªæ–°çš„éšè—è¡¨ç¤ºã€‚</p>
<hr>
<blockquote>
<h5 id="ä¾‹å­">ä¾‹å­</h5>
<p>Key:(batch, length,d_model)</p>
<p>Query:(batch, length,d_model)</p>
<p>-&gt; <span class="math inline">\(QK^T\)</span>ã€€:(batch, length,length)</p>
<p>-&gt; å¤æ‚åº¦ï¼š O(<span class="math inline">\(L^2\)</span> )</p>
<p>-&gt;åŸå§‹çš„transformerç»“æ„éš¾ä»¥å¤„ç†è¿‡é•¿çš„åºåˆ—é•¿åº¦</p>
</blockquote>
<p><img src="https://i.loli.net/2020/09/03/9mdzrXcGKZ5FPi3.png" alt="image-20200903163000933"></p>
<p><img src="https://i.loli.net/2020/09/03/6QvMn1qxGXzwKmC.png" alt="image-20200903161441529"></p>
<p>å…¶å®ï¼Œåœ¨softmaxä¸­ï¼Œå¯¹äºæ¯ä¸ªæŸ¥è¯¢ <em>q</em>ï¼Œæˆ‘ä»¬åªéœ€è¦æ³¨æ„æœ€æ¥è¿‘ <em>q</em> çš„é”® <em>k</em>ã€‚<strong>å¹¶ä¸ä¸€å®šéœ€è¦é‚£äº›æ³¨æ„åŠ›æƒé‡å¾ˆå°çš„tokenã€‚</strong></p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœåºåˆ—é•¿åº¦æ˜¯ 64Kï¼Œå¯¹äºæ¯ä¸ª <em>q</em>ï¼Œæˆ‘ä»¬å¯ä»¥åªè€ƒè™‘ 32 æˆ– 64 ä¸ªæœ€è¿‘çš„é”®çš„ä¸€ä¸ªå°å­é›†ã€‚å› ä¸ºè¿™äº›æ˜¯å’Œ<em>q</em>æœ€éœ€è¦æ³¨æ„çš„</p>
<h5 id="å±€éƒ¨æ•æ„Ÿå“ˆå¸Œlsh">å±€éƒ¨æ•æ„Ÿå“ˆå¸Œ(LSH)</h5>
<p><img src="https://i.loli.net/2020/09/03/zQI9n2ubZYDV7SL.png" alt="image-20200903163152560"></p>
<p>å±€éƒ¨æ•æ„Ÿå“ˆå¸Œä½¿ç”¨<code>çƒå½¢æŠ•å½±ç‚¹çš„éšæœºæ—‹è½¬</code>ï¼Œé€šè¿‡argmaxåœ¨æœ‰ç¬¦å·è½´æŠ•å½±ä¸Š<code>å»ºç«‹æ¡¶ï¼ˆbucketï¼‰</code>ã€‚ åœ¨æ­¤é«˜åº¦ç®€åŒ–çš„2Dæç»˜ä¸­ï¼Œå¯¹äºä¸‰ä¸ªä¸åŒçš„è§’åº¦hashï¼Œä¸¤ä¸ªç‚¹xå’Œyä¸å¤ªå¯èƒ½å…±äº«ç›¸åŒçš„å“ˆå¸Œæ¡¶ï¼ˆä¸Šæ–¹ï¼‰ï¼Œé™¤éå®ƒä»¬çš„çƒé¢æŠ•å½±å½¼æ­¤é è¿‘ï¼ˆä¸‹æ–¹ï¼‰ã€‚</p>
<p>è¯¥å›¾æ¼”ç¤ºäº†ä¸€ä¸ªç”¨<code>4ä¸ªæ¡¶è¿›è¡Œ3è½®å“ˆå¸Œçš„è®¾ç½®</code>ã€‚ä¸‹é¢çš„å›¾ä¸­çš„å‘é‡æ˜ å°„åˆ°äº†åŒä¸€ä¸ªbucketï¼Œå› ä¸ºå®ƒä»¬çš„è¾“å…¥å¾ˆæ¥è¿‘ï¼Œè€Œä¸Šä¸€å¼ å›¾ä¸­çš„å‘é‡æ˜ å°„åˆ°ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªbucketã€‚</p>
<p>LSHæ˜¯ä¸€ç»„å°†é«˜ç»´å‘é‡æ˜ å°„åˆ°ä¸€ç»„ç¦»æ•£å€¼(æ¡¶/é›†ç¾¤)çš„æ–¹æ³•ã€‚æ˜¯è§£å†³åœ¨é«˜ç»´ç©ºé—´ä¸­å¿«é€Ÿæ‰¾åˆ°æœ€è¿‘é‚»å±…ï¼ˆæœ€ç›¸ä¼¼ï¼‰çš„é—®é¢˜ã€‚</p>
<p><code>åŸºæœ¬æ€æƒ³</code>ï¼šé€‰æ‹© <em>hash</em> å‡½æ•°ï¼Œå¯¹äºä¸¤ä¸ªç‚¹ p å’Œ qï¼Œå¦‚æœ q æ¥è¿‘ pï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½æˆ‘ä»¬æœ‰ hash(q) == hash(p)</p>
<h5 id="lshæ³¨æ„åŠ›">LSHæ³¨æ„åŠ›</h5>
<p><img src="https://i.loli.net/2020/09/03/KgnJ7iB2kImcshX.png" alt="image-20200903163641310"></p>
<p>å®Œå…¨ä¸åŒçš„æ–¹æ³•æ¥å¤„ç†åºåˆ—é•¿åº¦é—®é¢˜ï¼Œä¸¢å¼ƒäº†<code>queryæŠ•å½±</code>ï¼ˆQ=Kï¼‰ï¼ˆå®éªŒç»“æœå‘ç°ï¼Œå­¦ä¹ ä¸åŒçš„keyså’Œqueriesçš„æŠ•å½±å¹¶ä¸æ˜¯ä¸¥æ ¼å¿…è¦çš„ï¼‰ï¼Œ<code>å¹¶å°†æ³¨æ„åŠ›æƒé‡æ›¿æ¢ä¸ºkeyçš„å‡½æ•°ï¼ˆhashå‡½æ•°ï¼‰</code>ï¼Œä»¥æ­¤é™ä½å¤æ‚åº¦</p>
<p>æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>1.ä½¿ç”¨LSHä¸ºæ¯ä¸ªtokenè®¡ç®—ä¸€ä¸ªæ¡¶</p>
<p>2.æ ¹æ®ç›¸åŒçš„æ¡¶è¿›è¡Œå½’ç±»æ’åº</p>
<p>3.åˆ†å—å¹¶å°†æ ‡å‡†çš„ç‚¹ä¹˜æ³¨æ„åŠ›åº”ç”¨åˆ°æ¡¶ä¸­çš„tokençš„å—ä¸Šï¼Œä»è€Œå¤§å¤§é™ä½è®¡ç®—è´Ÿè½½</p>
<h4 id="å†…å­˜é—®é¢˜">å†…å­˜é—®é¢˜</h4>
<p>å•å±‚èƒ½å¤Ÿæ‰§è¡Œé•¿åºåˆ—çš„å•æ¨¡å‹ã€‚ä½†æ˜¯ï¼Œå½“ä½¿ç”¨æ¢¯åº¦ä¸‹é™è®­ç»ƒå¤šå±‚æ¨¡å‹æ—¶ï¼Œç”±äºéœ€è¦ä¿å­˜æ¯ä¸€å±‚çš„æ¿€æ´»ï¼ˆå‡½æ•°ï¼‰ï¼Œä»¥ç”¨äºæ‰§è¡Œé€†æ¨ã€‚ä¸€ä¸ªä¼ ç»Ÿçš„ Transformer æ¨¡å‹å…·æœ‰åå‡ ä¸ªæˆ–æ›´å¤šçš„å±‚ï¼Œé€šè¿‡ç¼“å­˜è¿™äº›å±‚çš„å€¼ï¼Œå†…å­˜å°†ä¼šå¾ˆå¿«ç”¨å®Œã€‚</p>
<p>å¯é€†å±‚ï¼šåœ¨åå‘ä¼ æ’­æ—¶ï¼ŒæŒ‰éœ€é‡æ–°è®¡ç®—æ¯ä¸ªå±‚çš„è¾“å…¥ï¼Œè€Œä¸æ˜¯å°†å…¶ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚å…¶ä¸­æ¥è‡ªç½‘ç»œæœ€åä¸€å±‚çš„æ¿€æ´»ç”¨äºè¿˜åŸæ¥è‡ªä»»ä½•ä¸­é—´å±‚çš„æ¿€æ´»ã€‚</p>
<p>åŸå§‹çš„æ®‹å·®ç½‘ç»œï¼š<span class="math inline">\(Y=F(x)\)</span></p>
<p>å¯é€†å±‚çš„æ®‹å·®ç½‘ç»œï¼š æ³¨æ„æˆ‘ä»¬å¦‚ä½•ä»å®ƒçš„è¾“å‡º(Y â‚, Y â‚‚)è®¡ç®—ç‰©ä½“çš„è¾“å…¥(X â‚, X â‚‚)ã€‚</p>
<p><span class="math inline">\(\begin{array}{ll}y_{1}=x_{1}+F\left(x_{2}\right) &amp; y_{2}=x_{2}+G\left(y_{1}\right) \\ x_{2}=y_{2}-G\left(y_{1}\right) &amp; x_{1}=y_{1}-F\left(x_{2}\right) \\ Y_{1}=X_{1}+\text { Attention }\left(X_{2}\right) &amp; Y_{2}=X_{2}+\text { FeedForward }\left(Y_{1}\right)\end{array}\)</span></p>
<p>ç¤ºæ„å›¾å¦‚ä¸‹</p>
<p><img src="https://i.loli.net/2020/09/03/WX3lcQrmB16pI2Y.png" alt="image-20200903164816966"></p>
<p><img src="https://i.loli.net/2020/09/03/FgHKa4QNrsjlzMh.png" alt="image-20200903164907447"></p>
<h4 id="å®éªŒ">å®éªŒ</h4>
<p>ä½œè€…åˆ†åˆ«å¯¹å›¾åƒç”Ÿæˆä»»åŠ¡ <em>imagenet64</em>(é•¿åº¦ä¸º 12K)å’Œæ–‡æœ¬ä»»åŠ¡ <em>enwik8</em>(é•¿åº¦ä¸º 64K)è¿›è¡Œäº†å®éªŒï¼Œè¯„ä»·äº†å¯é€† Transformer å’Œ LSH å“ˆå¸Œå¯¹å†…å­˜ã€ç²¾åº¦å’Œé€Ÿåº¦çš„å½±å“ã€‚</p>
<p>ğŸ‰å¯é€† Transformer åŒ¹é…åŸºå‡†ï¼šä»–ä»¬çš„å®éªŒç»“æœè¡¨æ˜ï¼Œå¯é€†çš„ Transformer å¯ä»¥èŠ‚çœå†…å­˜ä¸ç‰ºç‰²ç²¾åº¦ï¼š</p>
<p><img src="https://i.loli.net/2020/09/03/LwSPM5qFuBfQhaZ.png" alt="null"></p>
<p>åœ¨ enwik8 å’Œ imagenet64 è®­ç»ƒä¸­ï¼Œå¯é€†æ€§å¯¹æ€§èƒ½çš„å½±å“</p>
<p>ğŸ‰LSH æ³¨æ„åŠ›åŒ¹é…åŸºå‡†ï¼šæ³¨æ„ LSH æ³¨æ„åŠ›æ˜¯ä¸€ä¸ªè¿‘ä¼¼çš„å…¨æ³¨æ„åŠ›ï¼Œå…¶å‡†ç¡®æ€§éšç€æ•£åˆ—å€¼çš„å¢åŠ è€Œæé«˜ã€‚å½“å“ˆå¸Œå€¼ä¸º 8 æ—¶ï¼ŒLSH çš„æ³¨æ„åŠ›å‡ ä¹ç­‰äºå®Œå…¨æ³¨æ„åŠ›ï¼š</p>
<p><img src="https://i.loli.net/2020/09/03/t4zNAXOf6iEZ7cH.jpg" alt="null"></p>
<p>LSH æ³¨æ„åŠ›ä½œä¸ºæ•£åˆ—å¾ªç¯å¯¹ imagenet64 çš„å½±å“</p>
<p>ğŸ‰ä»–ä»¬ä¹Ÿè¯æ˜äº†ä¼ ç»Ÿæ³¨æ„åŠ›çš„é€Ÿåº¦éšç€åºåˆ—é•¿åº¦çš„å¢åŠ è€Œå˜æ…¢ï¼Œè€Œ LSH æ³¨æ„åŠ›é€Ÿåº¦ä¿æŒç¨³å®šï¼Œå®ƒè¿è¡Œåœ¨åºåˆ—é•¿åº¦~ 100k åœ¨ 8GB çš„ GPU ä¸Šçš„æ­£å¸¸é€Ÿåº¦ï¼š</p>
<p><img src="https://i.loli.net/2020/09/03/aGRcA42EiNSBz8v.jpg" alt="null"></p>
<p>æ³¨æ„åŠ›è¯„ä¼°çš„é€Ÿåº¦ä½œä¸ºå…¨æ³¨æ„åŠ›å’Œ LSH æ³¨æ„åŠ›çš„è¾“å…¥é•¿åº¦çš„å‡½æ•°</p>
<blockquote>
<p>ä¸ Transformer æ¨¡å‹ç›¸æ¯”ï¼Œæœ€ç»ˆçš„ Reformer æ¨¡å‹å…·æœ‰æ›´é«˜çš„å­˜å‚¨æ•ˆç‡å’Œæ›´å¿«çš„å­˜å‚¨é€Ÿåº¦ã€‚</p>
</blockquote>
<h4 id="å‚è€ƒ">ğŸš€å‚è€ƒ</h4>
<blockquote>
<p><a href="https://www.6aiq.com/article/1583729200869" target="_blank" rel="noopener" class="uri">https://www.6aiq.com/article/1583729200869</a></p>
<p><a href="https://thinkwee.top/2020/02/07/reformer/" target="_blank" rel="noopener" class="uri">https://thinkwee.top/2020/02/07/reformer/</a></p>
<p><a href="https://aijishu.com/a/1060000000100293" target="_blank" rel="noopener" class="uri">https://aijishu.com/a/1060000000100293</a></p>
</blockquote>
<h3 id="transformer-xl-attentive-language-models-beyond-a-fixed-length-context">Transformer-XL : Attentive Language Models Beyond a Fixed-Length Context</h3>
<h4 id="è®ºæ–‡æ¦‚å†µ-1">è®ºæ–‡æ¦‚å†µ</h4>
<ul>
<li>æ¥æºï¼šACL 2019</li>
<li>arXiv: 1901.02860</li>
<li>ä½œè€…ï¼šZihangDai , ZhilinYang , YimingYang</li>
<li>è®ºæ–‡åœ°å€ï¼š <a href="https://arxiv.org/abs/1901.02860" target="_blank" rel="noopener" class="uri">https://arxiv.org/abs/1901.02860</a></li>
<li>Code urlï¼š<a href="https://github.com/kimiyoung/transformer-xl" target="_blank" rel="noopener" class="uri">https://github.com/kimiyoung/transformer-xl</a></li>
<li>è®ºæ–‡ç»„ä¼šæŠ¥å‘Šäº<code>2020.08.15</code></li>
</ul>
<h4 id="èƒŒæ™¯-1">èƒŒæ™¯</h4>
<h5 id="é—®é¢˜-1">é—®é¢˜</h5>
<p>Transformerå­˜åœ¨å±€é™æ€§ï¼š</p>
<p>1.åœ¨è¯­è¨€å»ºæ¨¡æ—¶çš„è®¾ç½®å—åˆ°å›ºå®šé•¿åº¦ï¼ˆsegmentï¼‰çš„é™åˆ¶ã€‚å¯¹é•¿è·ç¦»ä¾èµ–çš„å»ºæ¨¡èƒ½åŠ›ä»ç„¶ä¸è¶³</p>
<p>2.å› ä¸ºtransformerå°†æ–‡æœ¬ç­‰åˆ†ä¸ºç›¸åŒçš„ç‰‡æ®µï¼Œå¯¼è‡´äº†ä¸Šä¸‹æ–‡ç¢ç‰‡</p>
<h5 id="è§£å†³æ–¹æ¡ˆ-1">è§£å†³æ–¹æ¡ˆ</h5>
<p>ä½¿å­¦ä¹ ä¸å†ä»…ä»…ä¾èµ–äºå®šé•¿ï¼Œä¸”ä¸ç ´åæ—¶é—´çš„ç›¸å…³æ€§ã€‚</p>
<ol type="1">
<li>æå‡º<strong>ç‰‡æ®µçº§é€’å½’æœºåˆ¶(segment-level recurrence mechanism)</strong>ï¼Œå¼•å…¥ä¸€ä¸ª<strong>è®°å¿†(memory)</strong>æ¨¡å—ï¼ˆç±»ä¼¼äºcacheæˆ–cellï¼‰ ä¹‹å‰è®¡ç®—è¿‡äº†ä¸éœ€è¦é‡å¤è®¡ç®—ï¼Œç›´æ¥ä¸ºåé¢ç‰‡æ®µä½¿ç”¨ã€‚</li>
</ol>
<ul>
<li>ä½¿å¾—<code>é•¿è·ç¦»ä¾èµ–çš„å»ºæ¨¡</code>æˆä¸ºå¯èƒ½ï¼›</li>
<li>ä½¿å¾—ç‰‡æ®µä¹‹é—´äº§ç”Ÿäº¤äº’ï¼Œè§£å†³ä¸Šä¸‹æ–‡ç¢ç‰‡åŒ–é—®é¢˜</li>
</ul>
<p>2.æå‡º<strong>ç›¸å¯¹ä½ç½®ç¼–ç æœºåˆ¶</strong>ï¼Œä»£æ›¿ç»å¯¹ä½ç½®ç¼–ç ã€‚ Transformerçš„ç»å¯¹ä½ç½®ç¼–ç æŒ‡çš„æ˜¯ä¸€ä¸ªç‰‡æ®µä¸­ï¼Œä¸º1 ä¸º2 ã€‚å¦‚æœæ˜¯å¤šä¸ªç‰‡æ®µåŒæ—¶è€ƒè™‘çš„è¯ï¼Œé‚£ä¹ˆè¿™ç§1ï¼Œ2å°±ä¼šé‡å¤ï¼Œæ‰€ä»¥ä½¿ç”¨äº†ç›¸å¯¹ä½ç½®ç¼–ç çš„æ–¹æ³•ã€‚è¿™æ ·å¯ä»¥åœ¨å¤šä¸ªç‰‡æ®µï¼ˆsegmentï¼‰ä¸­ä½¿ç”¨ç›¸å¯¹ç¼–ç ã€‚å…·ä½“å†…å®¹è§è®ºæ–‡</p>
<p>æ³¨ï¼šä¸¤è€…æ˜¯ä¸€èµ·ä½¿ç”¨çš„ï¼Œå…±åŒè§£å†³transformerå­˜åœ¨çš„å±€é™æ€§</p>
<h4 id="æ¨¡å‹-transformer-xl">æ¨¡å‹ transformer-XL</h4>
<h5 id="åŸå§‹transformer">åŸå§‹transformer</h5>
<p><img src="https://i.loli.net/2020/09/04/YU3mC2hIOA9ncrj.gif" alt="v2-732805e00feb35e41f1d00f8df516950_b"></p>
<h5 id="ç‰‡æ®µæ³¨æ„åŠ›æœºåˆ¶">ç‰‡æ®µæ³¨æ„åŠ›æœºåˆ¶</h5>
<p>ä¸ºäº†è§£å†³é•¿è·ç¦»ä¾èµ–ï¼Œæ–‡ç« å¼•å…¥ä¸€ä¸ªmemoryçŠ¶æ€ã€‚</p>
<p>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªç‰‡æ®µçš„è¡¨ç¤ºä¸ºæœ€åçš„éšå±‚çŠ¶æ€ï¼Œè¡¨ç¤ºç‰‡æ®µçš„åºå·ï¼Œè¡¨ç¤ºç‰‡æ®µçš„é•¿åº¦ï¼Œè¡¨ç¤ºéšå±‚ç»´åº¦ã€‚</p>
<p>åœ¨è®¡ç®—ç‰‡æ®µçš„è¡¨ç¤ºæ—¶ï¼Œç”¨memoryç¼“å­˜ç‰‡æ®µå±‚çš„éšå±‚çŠ¶æ€ï¼Œç”¨æ¥æ›´æ–°ï¼Œè¿™æ ·å°±ç»™ä¸‹ä¸€ä¸ªç‰‡æ®µåŒäº†ä¸Šæ–‡ï¼Œé•¿è·ç¦»ä¾èµ–ä¹Ÿé€šè¿‡memoryä¿å­˜äº†ä¸‹æ¥ã€‚å¹¶ä¸”ï¼Œæœ€å¤§å¯èƒ½çš„ä¾èµ–é•¿åº¦çº¿æ€§å¢é•¿ï¼Œè¾¾åˆ°**N*L**</p>
<p><img src="https://i.loli.net/2020/09/04/IjUWo7DahsNPAkv.gif" alt="v2-a8210cd2f9bfb9307ba81d694dc4e4b4_b"></p>
<h5 id="è¯„ä¼°é˜¶æ®µ">è¯„ä¼°é˜¶æ®µ</h5>
<h6 id="åŸå§‹transformer-1">åŸå§‹transformer</h6>
<p><img src="https://i.loli.net/2020/09/04/epOcXjYTy835dJv.gif" alt="v2-13a38126e684b838e5ed207fd5cae944_b"></p>
<h6 id="transformer-xl">Transformer-XL</h6>
<p><img src="https://i.loli.net/2020/09/04/qdYL5RsQEOFS8nG.gif" alt="v2-502e1e1fec12b326ace579e059b3b3df_b"></p>
<h4 id="å®éªŒ-1">å®éªŒ</h4>
<p>å®éªŒéƒ¨åˆ†æ˜¯å¯¹åŸºäºTransformer-XLçš„è¯­è¨€æ¨¡å‹è¿›è¡Œè¯„ä¼°ï¼Œåˆ†ä¸ºå­—ç¬¦çº§å’Œè¯çº§ã€‚è¯„ä»·æŒ‡æ ‡åˆ†åˆ«æ˜¯bpc(æ¯å­—ç¬¦ä½æ•°)å’ŒPPL(å›°æƒ‘åº¦)ï¼Œè¶Šå°è¶Šå¥½ã€‚enwiki8å’Œtext8ç”¨çš„æ˜¯bpcã€‚Transformer-XLåœ¨å¤šä¸ªè¯­è¨€æ¨¡å‹åŸºå‡†æµ‹è¯•ä¸­å®ç°äº†æœ€å…ˆè¿›çš„ç»“æœã€‚ Transformer-XLç¬¬ä¸€ä¸ªåœ¨charçº§è¯­è¨€æ¨¡å‹åŸºå‡†enwiki8ä¸Šçªç ´1.0ã€‚</p>
<p><strong>å»é™¤å®éªŒï¼š</strong></p>
<p><img src="https://i.loli.net/2020/09/04/ZV1lpewdtanoWi9.png" alt="image-20200904153950861"></p>
<p>é‡ç‚¹æ˜¯æœ¬æ–‡è®¾è®¡çš„ç›¸å¯¹ä½ç½®ç¼–ç <strong>ä¼˜äº</strong>å…¶ä»–å·¥ä½œï¼Œmemoryçš„è®¾è®¡ä¹Ÿæœ‰å¾ˆå¤§çš„æå‡ã€‚</p>
<p>æœ€åï¼ŒTransformer-XLåœ¨è¯„ä¼°é˜¶æ®µçš„é€Ÿåº¦ä¹Ÿæ˜æ˜¾å¿«äº vanilla Transformerï¼Œç‰¹åˆ«æ˜¯å¯¹äºè¾ƒé•¿çš„ä¸Šä¸‹æ–‡ã€‚ä¾‹å¦‚ï¼Œå¯¹äº 800 ä¸ªå­—ç¬¦çš„ä¸Šä¸‹æ–‡é•¿åº¦ï¼ŒTransformer-XL æ¯”Vanilla Transformer å¿« 363 å€ï¼›è€Œå¯¹äº 3800 å­—ç¬¦çš„ä¸Šä¸‹æ–‡ï¼ŒTransformer-XL å¿«äº† 1874 å€ã€‚</p>
<h4 id="åˆ›æ–°ç‚¹">åˆ›æ–°ç‚¹</h4>
<ul>
<li>æå‡ºäº†ç‰‡æ®µçº§é€’å½’æœºåˆ¶å’Œç›¸å¯¹ä½ç½®ç¼–ç æœºåˆ¶</li>
<li>ä¾èµ–å…³ç³»æ¯”åŸå§‹Transformeré•¿450ï¼…ï¼Œå¹¶ä¸”åœ¨è¯„ä¼°è¿‡ç¨‹ä¸­ï¼Œå…¶é€Ÿåº¦æ¯”åŸå§‹Transformerå¿«1800å€ä»¥ä¸Š</li>
</ul>
<h4 id="å‚è€ƒ-1">ğŸš€å‚è€ƒ</h4>
<blockquote>
<p><a href="https://www.cnblogs.com/shona/p/12041055.html" target="_blank" rel="noopener" class="uri">https://www.cnblogs.com/shona/p/12041055.html</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/83062195" target="_blank" rel="noopener" class="uri">https://zhuanlan.zhihu.com/p/83062195</a></p>
<p><a href="https://www.cnblogs.com/mj-selina/p/12373636.html" target="_blank" rel="noopener" class="uri">https://www.cnblogs.com/mj-selina/p/12373636.html</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/70745925" target="_blank" rel="noopener" class="uri">https://zhuanlan.zhihu.com/p/70745925</a></p>
</blockquote>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
    </div>

    
    
    

      <div style="text-align:center;color: #ccc;font-size:14px;">-------------æœ¬æ–‡ç»“æŸ<i class="fab fa-gratipay"></i>æ„Ÿè°¢é˜…è¯»-------------</div>
        <div class="reward-container">
  <div>å‘å¾®åšä¸»ï¼Œåœ¨çº¿æ±‚èµ</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    æ‰“èµ
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.jpg" alt="ææ€å»º å¾®ä¿¡æ”¯ä»˜">
        <p>å¾®ä¿¡æ”¯ä»˜</p>
      </div>

  </div>
</div>

    
      
   
    

      <footer class="post-footer">
         
          <div class="post-tags">
              <a href="/tags/%E8%AE%BA%E6%96%87/" rel="tag"<i class="fab fa-envira"></i>è®ºæ–‡</a>
              <a href="/tags/%E8%AE%BA%E6%96%87%E5%88%86%E4%BA%AB/" rel="tag"<i class="fab fa-envira"></i>è®ºæ–‡åˆ†äº«</a>
              <a href="/tags/transformer/" rel="tag"<i class="fab fa-envira"></i>transformer</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/08/31/2020-08-31-git%E8%BF%9B%E9%98%B6/" rel="prev" title="2020-08-31-gitè¿›é˜¶">
      <i class="fa fa-chevron-left"></i> 2020-08-31-gitè¿›é˜¶
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/09/04/2020-09-04-transformer%E7%9B%B4%E8%A7%82%E7%90%86%E8%A7%A3/" rel="next" title="2020-09-04-transformerç›´è§‚ç†è§£">
      2020-09-04-transformerç›´è§‚ç†è§£ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  





          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#reformerthe-eficient-transformer"><span class="nav-number">1.</span> <span class="nav-text">reformerï¼šthe eficient transformer</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#è®ºæ–‡æ¦‚å†µ"><span class="nav-number">1.1.</span> <span class="nav-text">è®ºæ–‡æ¦‚å†µ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#èƒŒæ™¯"><span class="nav-number">1.2.</span> <span class="nav-text">èƒŒæ™¯</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#é—®é¢˜"><span class="nav-number">1.2.1.</span> <span class="nav-text">é—®é¢˜</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#è§£å†³æ–¹æ¡ˆ"><span class="nav-number">1.2.2.</span> <span class="nav-text">è§£å†³æ–¹æ¡ˆ</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ³¨æ„åŠ›é—®é¢˜"><span class="nav-number">1.3.</span> <span class="nav-text">æ³¨æ„åŠ›é—®é¢˜</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#åŸå§‹æ³¨æ„åŠ›"><span class="nav-number">1.3.1.</span> <span class="nav-text">åŸå§‹æ³¨æ„åŠ›</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ä¾‹å­"><span class="nav-number">1.3.2.</span> <span class="nav-text">ä¾‹å­</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#å±€éƒ¨æ•æ„Ÿå“ˆå¸Œlsh"><span class="nav-number">1.3.3.</span> <span class="nav-text">å±€éƒ¨æ•æ„Ÿå“ˆå¸Œ(LSH)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#lshæ³¨æ„åŠ›"><span class="nav-number">1.3.4.</span> <span class="nav-text">LSHæ³¨æ„åŠ›</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å†…å­˜é—®é¢˜"><span class="nav-number">1.4.</span> <span class="nav-text">å†…å­˜é—®é¢˜</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å®éªŒ"><span class="nav-number">1.5.</span> <span class="nav-text">å®éªŒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å‚è€ƒ"><span class="nav-number">1.6.</span> <span class="nav-text">ğŸš€å‚è€ƒ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#transformer-xl-attentive-language-models-beyond-a-fixed-length-context"><span class="nav-number">2.</span> <span class="nav-text">Transformer-XL : Attentive Language Models Beyond a Fixed-Length Context</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#è®ºæ–‡æ¦‚å†µ-1"><span class="nav-number">2.1.</span> <span class="nav-text">è®ºæ–‡æ¦‚å†µ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#èƒŒæ™¯-1"><span class="nav-number">2.2.</span> <span class="nav-text">èƒŒæ™¯</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#é—®é¢˜-1"><span class="nav-number">2.2.1.</span> <span class="nav-text">é—®é¢˜</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#è§£å†³æ–¹æ¡ˆ-1"><span class="nav-number">2.2.2.</span> <span class="nav-text">è§£å†³æ–¹æ¡ˆ</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ¨¡å‹-transformer-xl"><span class="nav-number">2.3.</span> <span class="nav-text">æ¨¡å‹ transformer-XL</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#åŸå§‹transformer"><span class="nav-number">2.3.1.</span> <span class="nav-text">åŸå§‹transformer</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ç‰‡æ®µæ³¨æ„åŠ›æœºåˆ¶"><span class="nav-number">2.3.2.</span> <span class="nav-text">ç‰‡æ®µæ³¨æ„åŠ›æœºåˆ¶</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#è¯„ä¼°é˜¶æ®µ"><span class="nav-number">2.3.3.</span> <span class="nav-text">è¯„ä¼°é˜¶æ®µ</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#åŸå§‹transformer-1"><span class="nav-number">2.3.3.1.</span> <span class="nav-text">åŸå§‹transformer</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#transformer-xl"><span class="nav-number">2.3.3.2.</span> <span class="nav-text">Transformer-XL</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å®éªŒ-1"><span class="nav-number">2.4.</span> <span class="nav-text">å®éªŒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#åˆ›æ–°ç‚¹"><span class="nav-number">2.5.</span> <span class="nav-text">åˆ›æ–°ç‚¹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å‚è€ƒ-1"><span class="nav-number">2.6.</span> <span class="nav-text">ğŸš€å‚è€ƒ</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ææ€å»º"
      src="/images/touxiang.jpg">
  <p class="site-author-name" itemprop="name">ææ€å»º</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">70</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="sidebar-button motion-element">
    <a onclick="tidioChatApi.open();"><i class="fa fa-comment"></i>
    Chat
  </a>
  </div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/OopsAaron" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;OopsAaron" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:li1574468139@outlook.com" title="E-Mail â†’ mailto:li1574468139@outlook.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/5871697996" title="Weibo â†’ https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;5871697996" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/AaronLe48891280" title="Twitter â†’ https:&#x2F;&#x2F;twitter.com&#x2F;AaronLe48891280" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://ife.baidu.com/" title="http:&#x2F;&#x2F;ife.baidu.com&#x2F;" rel="noopener" target="_blank">ç™¾åº¦å‰ç«¯æŠ€æœ¯å­¦é™¢</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://wf.uisdc.com/cn/" title="http:&#x2F;&#x2F;wf.uisdc.com&#x2F;cn&#x2F;" rel="noopener" target="_blank">googleå‰ç«¯å¼€å‘åŸºç¡€</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>

 


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fas fa-atom"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ææ€å»º</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">362k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">5:29</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>


        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>
  
        
<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>



  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>






  <script src="//code.tidio.co/6hx5cq5nmltu08pt7pfkqy85wvgnhr1r.js"></script>







    <div id="pjax">
  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'V06xtKF2qonsMYpPA6OqiRH0-gzGzoHsz',
      appKey     : 'Q8gXivQlmWVnr48ahETG2v5X',
      placeholder: "Just go go",
      avatar     : 'monsterid',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

    </div>
  


</body>


</html>
